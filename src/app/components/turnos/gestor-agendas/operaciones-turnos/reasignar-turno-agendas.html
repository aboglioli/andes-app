<form class="plex-layout">
    <section>
        <div class="row">
            <div class="col-12">
                <legend>REASIGNACIÃ“N | DISPONIBILIDAD DE TURNOS</legend>
                <div class="row" *ngIf="agendasSimilares?.length === 0 && !turnosAReasignar?.length">
                    <div class="col">
                        <i class="mdi mdi-emoticon-sad"></i> No hay agendas que contengan turnos que coincidan
                    </div>
                </div>
                <div class="row">
                    <div class="col-4" *ngFor="let agenda of agendasSimilares; let indiceAgenda = index">
                        <div class="card">
                            <div class="card-block">
                                <h4 class="card-title">Agenda: {{ agenda.horaInicio | date: 'dd/MM/yyyy' }} de {{ agenda.horaInicio | date: 'HH:mm'
                                    }} a {{ agenda.horaFin | date: 'HH:mm' }} hs</h4>
                                <p class="card-text">{{ agenda.tiposPrestacion | json }}</p>
                                <div *ngFor="let bloque of agenda.bloques; let indiceBloque = index">
                                    <div *ngIf="existePrestacion(bloque, turnoSeleccionado.tipoPrestacion.id)">
                                        <div *ngIf="bloque.descripcion">
                                            Bloque <span>{{bloque.descripcion}}</span>
                                        </div>
                                        <div *ngFor="let turno of bloque.turnos; let indiceTurno = index">
                                            <ng-container *ngIf="turno.horaInicio">
                                                <div class="reasignar" *ngIf="!bloque.pacienteSimultaneos && !bloque.citarPorBloque">
                                                    <div *ngIf="turno.estado === 'disponible'" class="text-center p-2 mb-1 hover outline-dashed-default" [appHover]="'text-success outline-success'"
                                                        (click)="seleccionarCandidata(indiceTurno, indiceBloque, indiceAgenda)">
                                                        {{turno.horaInicio | date: 'HH:mm'}}
                                                    </div>
                                                </div>
                                                <div *ngIf="bloque.pacienteSimultaneos">
                                                    <div *ngIf="turno.estado === 'disponible' && primerSimultaneoDisponible(bloque, turno, indiceTurno)" class="row">
                                                        <div class="col col-md-12">
                                                            <a class="hover" (click)="seleccionarCandidata(indiceTurno, indiceBloque, indiceAgenda)">{{turno.horaInicio | date: 'HH:mm'}} </a>
                                                        </div>
                                                    </div>
                                                    <br *ngIf="turno.estado == 'disponible' && primerSimultaneoDisponible(bloque, turno, indiceTurno) && indiceTurno+bloque.cantidadSimultaneos < bloque.turnos.length">
                                                </div>
                                                <div *ngIf="bloque.citarPorBloque">
                                                    <div *ngIf="turno.estado == 'disponible' && primerSimultaneoDisponible(bloque, turno, indiceTurno)" class="row">
                                                        <div class="col col-md-12">
                                                            <a class="hover" (click)="seleccionarCandidata(indiceTurno, indiceBloque, indiceAgenda)">{{turno.horaInicio | date: 'HH:mm'}} </a>
                                                        </div>
                                                    </div>
                                                    <br *ngIf="turno.estado == 'disponible' && primerSimultaneoDisponible(bloque, turno, indiceTurno) && indiceTurno+bloque.cantidadBloque < bloque.turnos.length">
                                                </div>
                                            </ng-container>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>

        </div>

    </section>
</form>
