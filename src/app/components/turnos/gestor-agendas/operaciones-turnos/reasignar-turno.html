<fieldset>
    <legend>REASIGNACIÓN | DISPONIBILIDAD DE TURNOS</legend>
    <div class="row">
        <div class="col-8">
            <b>Ordenar por:</b>
            <div class="input-group">
                <div class="input-group-btn"><button class="btn btn-info btn-sm active">FECHA</button></div>
                <div class="input-group-btn"><button class="btn btn-info btn-sm">DÍA</button></div>
                <div class="input-group-btn"><button class="btn btn-info btn-sm">HORARIO</button></div>
                <div class="input-group-btn"><button class="btn btn-secondary btn-sm">LIMPIAR</button></div>
            </div>
        </div>
        <div class="col"></div>
    </div>
    <div *ngFor="let agendaCandidata of agendasCandidatas; let indiceTurno = index">
        <plex-accordion class="accordion-reasignar">
            <!--Turno-->
            <div *ngIf="agendaCandidata.turno?.reasignado" class="badge-reasignado badge badge-success"><i class="mdi mdi-check"></i></div>
            <div *ngIf="!agendaCandidata.turno?.reasignado" class="badge-reasignado badge badge-warning"><i class="mdi mdi-account-convert"></i></div>
            <plex-panel tituloPrincipal="Turno: {{ agendaCandidata.turno.horaInicio | date: 'dd/MM/yyyy' }} {{ agendaCandidata.turno.horaInicio | date: 'HH:mm' }} hs
             - {{ agendaCandidata.turno.paciente | paciente }}">
                <div class="list-group" *ngFor="let agenda of agendaCandidata.agendas; let i = index">

                    <ng-container *ngIf="agendaCandidata.turno?.reasignado; then reasignado else noReasignado"></ng-container>

                    <ng-template #reasignado>
                        <span class="list-group-item list-group-item-action flex-column align-items-start">
                            <div class="d-flex w-100 justify-content-between">
                                <h5 class="mb-1">Turno ya reasignado a la agenda del {{ agenda.horaInicio | date: 'dd/MM/yyyy' }}
                                </h5>
                            </div>
                       </span>
                    </ng-template>

                    <ng-template #noReasignado>
                        <a class="list-group-item list-group-item-action flex-column align-items-start hover" (click)="seleccionarCandidata(indiceTurno, i)">
                            <div class="d-flex w-100 justify-content-between">
                                <h5 class="mb-1">Agenda: <i class="mdi mdi-clock"></i> {{ agenda.horaInicio | date: 'dd/MM/yyyy' }} hs. a
                                    {{ agenda.horaFin | date:'HH:mm'}}
                                </h5>
                                <small>{{ agendaCandidata.similitud }}%</small>
                            </div>
                            <p class="mb-1">
                                Tipo Prestación: {{ agendaCandidata.turno.tipoPrestacion.nombre }}
                            </p>
                            <small *ngIf="agenda.profesionales.length > 0">Profesional: {{ agenda.profesionales[0] | profesional }}</small>
                        </a>
                    </ng-template>

                </div>
            </plex-panel>
        </plex-accordion>
    </div>
</fieldset>
