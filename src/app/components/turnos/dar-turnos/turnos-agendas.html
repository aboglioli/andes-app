<div class="row">
  <div *ngIf="agenda" class="col-md-12">
    <form>
      <div class="row">
        <div class="col-md-8" align="center">
          <div class="box">
            <div class="box-content" align="center">
              <h1>
                <small> 
                    <div *ngFor="let profesional of agenda.profesionales let i=index">
                        <div *ngIf="i<agenda.profesionales.length-1">
                            {{profesional.nombre}} {{profesional.apellido}},
                        </div>
                        <div *ngIf="i>=agenda.profesionales.length-1">
                            {{profesional.nombre}} {{profesional.apellido}}
                        </div>
                    </div>
                </small>
                <br>
                <plex-button type="link" icon="chevron-left" (click)="verAgenda(false)"></plex-button>
                {{agenda.horaInicio | date: 'dd/MM'}}
                <plex-button type="link" icon="chevron-right" (click)="verAgenda(true)"></plex-button>
                <br><br>
                <small>{{semana[agenda.horaInicio.getDay()]}}</small><br>
              </h1>
              <br>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-8">
          <plex-box>
            <div *ngFor="let bloque of agenda.bloques let indiceBq=index">
              <div class="row">
                <div *ngIf="bloque.turnos.length" class="col-md-12">
                  <h2>
                    <small>
                        <span>{{bloque.descripcion}}</span>  <span class="badge"> {{bloque.duracionTurno}} '</span>
                    </small>
                  </h2>
                </div>
              </div>
              <div *ngFor="let turno of bloque.turnos; let i=index">
                <div class="row">
                  <div *ngIf="turno.estado == 'disponible'" class="col-md-12">
                    <plex-button type="link" label="{{turno.horaInicio | date: 'HH:mm'}}" (click)="seleccionarTurno(bloque,indiceBq,i)"></plex-button>
                  </div>
                  <div *ngIf="turno.estado == 'asignado'" class="col-md-4">
                    <plex-button type="link" disabled="true" label="{{turno.horaInicio | date: 'HH:mm'}}" (click)="seleccionarTurno(bloque,i)"></plex-button>
                  </div>
                  <div *ngIf="turno.paciente" class="col-md-6">
                    <plex-button type="link" disabled="true" label="{{turno.paciente.nombre}} {{turno.paciente.apellido}}"></plex-button>
                  </div>
                </div>
                <br>
              </div>
            </div>
          </plex-box>
        </div>
      </div>
    </form>
  </div>
</div>
