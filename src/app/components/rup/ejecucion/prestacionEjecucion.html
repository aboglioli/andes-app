<header *ngIf="prestacion">
    <header-paciente [paciente]="prestacion.paciente" [prestacion]="prestacion"></header-paciente>
</header>

<section class="prestacionEjecucion" *ngIf="prestacion && elementoRUPprestacion">

    <div class="row">
        <div class="col-3">
            <rup-hudsBusqueda [paciente]="prestacion?.paciente" [prestacionActual]="prestacion?.id" (evtData)="ejecutarConceptoHuds($event)"></rup-hudsBusqueda>
        </div>
        <div class="col-6">
            <plex-box>
                <header>
                    <div class="clearfix">
                        <div class="page-title">
                            {{prestacion.solicitud.tipoPrestacion.term}}
                        </div>
                    </div>
                </header>

                <div *ngIf="ejecucion && ejecucion.length">

                    <!--
                    <plex-accordion class="elementosRup">
                        <div class="row" *ngFor="let elemento of ejecucion">

                            <div class="col {{elemento.tipo}}" *ngIf="elemento.elementoRUP">
                                <plex-panel tituloPrincipal="{{elemento.concepto.term}}">

                                    <rup #rup [prestacion]="prestacion" [elementoRUP]="elemento.elementoRUP" [paciente]="prestacion.paciente" [conceptoSnomed]="conceptoSnomedSeleccionado" (evtData)="getValoresRup($event, elemento.elementoRUP)" *ngIf="elemento.concepto.semanticTag == 'trastorno'
                                        || elemento.concepto.semanticTag == 'hallazgo' || elemento.concepto.semanticTag == 'procedimiento'">

                                    </rup>

                                </plex-panel>
                            </div>
                        </div>
                    </plex-accordion>
                    -->
                    <ng-container *ngFor="let elemento of ejecucion">
                        <div class="rup-card" *ngIf="elemento.elementoRUP">
                            <div class="type {{elemento.tipo}}">
                                <i #dragHandle class="drag-bar mdi mdi-drag-vertical"></i>
                            </div>
                            <div class="rup-content">
                                <div class="header">
                                    <div class="title">
                                        {{elemento.concepto.term}}
                                    </div>

                                    <div class="actions">

                                    </div>
                                </div>
                                <div class="rup-body">
                                    <rup #rup [prestacion]="prestacion" [elementoRUP]="elemento.elementoRUP" [paciente]="prestacion.paciente" [conceptoSnomed]="conceptoSnomedSeleccionado" (evtData)="getValoresRup($event, elemento.elementoRUP)" *ngIf="elemento.concepto.semanticTag == 'trastorno'
                                            || elemento.concepto.semanticTag == 'hallazgo' || elemento.concepto.semanticTag == 'procedimiento'">

                                    </rup>
                                </div>
                            </div>
                        </div>
                    </ng-container>

<!--
                            <div class="concepto" *ngIf="elemento.elementoRUP">
                                <div class="header">
                                    <div class="indicadorTipo {{elemento.concepto.term}}">
                                        <i #dragHandle class="drag-bar mdi mdi-drag-vertical"></i>
                                    </div>

                                    <div class="nombre">
                                        {{elemento.concepto.term}}

                                    </div>

                                </div>
                                <div class="content">
                                    <rup #rup [prestacion]="prestacion" [elementoRUP]="elemento.elementoRUP" [paciente]="prestacion.paciente" [conceptoSnomed]="conceptoSnomedSeleccionado" (evtData)="getValoresRup($event, elemento.elementoRUP)" *ngIf="elemento.concepto.semanticTag == 'trastorno'
                                        || elemento.concepto.semanticTag == 'hallazgo' || elemento.concepto.semanticTag == 'procedimiento'">

                                    </rup>
                                </div>
                            </div>
-->

                </div>
            </plex-box>
        </div>
        <div class="col-3">

            <plex-box>
                <header>
                    <div class="clearfix">
                        <div class="page-title">
                            {{prestacion.solicitud.tipoPrestacion.term}}
                        </div>
                    </div>
                </header>

                <div class="row">
                    <div class="col">
                        <!--Procedimientos
                        <snomed-buscar [tipoBusqueda]="'procedimientos'" (evtData)="ejecutarConcepto($event)"></snomed-buscar>-->
                        <plex-button class="" title="Problemas" label="Problemas" (click)="filtroBuscadorSnomed('problemas')" type="primary btn-sm"></plex-button>
                        <plex-button class="" title="Procedimientos" label="Procedimientos" (click)="filtroBuscadorSnomed('procedimientos')" type="primary btn-sm"></plex-button>
                        <plex-button class="" title="Planes" label="Planes" (click)="busquedaPlanes()" type="primary btn-sm"></plex-button>
                        Buscador {{tipoBusqueda}}
                        <div *ngIf="!showPlanes">
                            <snomed-buscar [tipoBusqueda]="tipoBusqueda" (evtData)="ejecutarConcepto($event)"></snomed-buscar>
                        </div>

                        <div *ngIf="showPlanes">
                            <buscador-planes></buscador-planes>
                        </div>

                    </div>
                </div>
            </plex-box>
        </div>
    </div>
</section>

<!--
<footer>
    <div class="row">
        <div class="col-3">
            <plex-button title="Volver" icon="mdi mdi-arrow-left-bold" label="volver" (click)="volver('rup/resumen')" type="danger"></plex-button>
        </div>
        <div class=" col-6 text-center">
            <div *ngIf="error !=0 " class="alert alert-danger " role="alert">
                {{error}}
            </div>
        </div>
        <div class="col-3 text-right ">
            <plex-button title="Guardar " label="Guardar " (click)="guardarPrestacion()" type="success"></plex-button>
        </div>
    </div>
</footer>
-->
