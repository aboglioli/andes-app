<div *ngIf="!showEjecucion">
    <header-paciente [paciente]="prestacion.paciente"></header-paciente>

    <plex-box>
        <div class="row">
            <div class="col-md-6">
                <b class="celeste">Tipo de prestación: </b> {{prestacion.solicitud.tipoPrestacion.nombre}}
            </div>
            <div class="col-md-6 text-right">
                {{prestacion.paciente.apellido}} {{prestacion.paciente.nombre}} > {{prestacion.solicitud.tipoPrestacion.nombre}}
            </div>
        </div>
    </plex-box>


    <plex-box>
        <div class="row">
            <div class="col-md-4">
                <h4>Problemas</h4>
                <ul class="list-group">
                    <li class="list-group-item clearfix" *ngFor="let problema of listaProblemas">
                        <div >
                            {{problema.tipoProblema.nombre}}
                            <br />
                            <small class="gris">
                                {{problema.fechaInicio | date: 'dd/MM/yyyy'}}
                            </small>
                            <span class="label label-success pull-right" *ngIf="problema.evoluciones && problema.evoluciones[problema.evoluciones.length-1] && problema.evoluciones[problema.evoluciones.length-1].activo">
                                Activo
                            </span>
                            <span class="label label-danger pull-right" 
                                *ngIf="problema.evoluciones && problema.evoluciones[problema.evoluciones.length-1] && !problema.evoluciones[problema.evoluciones.length-1].activo">
                                Inactivo
                            </span>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </plex-box>
    <plex-box>
        <div class="row">
            <div class="col-md-6 pull-left">
                <plex-button title="Evolucionar los Problemas" icon="mdi mdi-arrow-left-bold" label="volver" (click)="volver()" type="danger btn-sm"></plex-button>
            </div>
            <div class="col-lg-6">


                <plex-button title="Ver prestación" label="Ver" type="success" (click)="verPrestacion()" *ngIf="prestacion.estado[prestacion.estado.length-1].tipo == 'ejecucion'" class="pull-right"></plex-button>

                <plex-button title="Iniciar prestación" label="Iniciar" type="success"  (click)="iniciarPrestacion()"
                    *ngIf="prestacion.estado[prestacion.estado.length-1].tipo == 'pendiente'"></plex-button>
            </div>
        </div>
    
     </plex-box>
</div>

<div *ngIf="showEjecucion">
    <rup-prestacionEjecucion [prestacion]="prestacion"></rup-prestacionEjecucion>
</div>