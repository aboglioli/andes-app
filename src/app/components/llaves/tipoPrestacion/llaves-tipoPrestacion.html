<section *ngIf="!showcreate && !showupdate">
    <div class="row">
        <div class="col-9">
            <plex-box>

                <header></header>

                <div>
                <table class="table" *ngIf="llavesTP?.length">
                    <tr class="row text-center">
                        <td class="col-1"><i class="mdi"></i></td>
                        <td class="col-3"><strong>Tipo de Prestaci贸n</strong></td>
                        <td class="col-3"><strong>Organizaci贸n</strong></td>
                        <td class="col"><strong>Auditable</strong></td>
                        <td class="col"><strong>Rango Edad</strong></td>
                        <td class="col"><strong>Sexo</strong></td>
                        <td class="col-1"><strong>Activa</strong></td>
                    </tr>
                </table>

                <table class="table table-striped">
                    <tbody>
                    <template ngFor let-llaveTP="$implicit" [ngForOf]="llavesTP" let-i="index">

                        <tr class="row text-center" style="cursor: pointer; pointer-events: all" [ngClass]="{'bg-primary text-white': estaSeleccionada(this.llaveTP)}">

                        <td class="col-1" (click)="verLlave(llaveTP, true, $event)">
                            <i *ngIf="estaSeleccionada(llaveTP)" class="mdi mdi-check-circle" [ngClass]="{'text-success': estaSeleccionada(llaveTP)}"></i>
                            <i *ngIf="!estaSeleccionada(llaveTP)" class="mdi mdi-checkbox-blank-circle-outline"></i>
                        </td>

                        <td class="col-3" (click)="verLlave(llaveTP, false, $event)">
                            <span>{{llaveTP.tipoPrestacion.nombre}}</span>
                        </td>

                        <td class="col-3" (click)="verLlave(llaveTP, false, $event)">
                            <span>{{llaveTP.organizacion.nombre}}</span>
                        </td>

                        <td class="col" (click)="verLlave(llaveTP, false, $event)">
                            <span *ngIf="llaveTP.auditable">Si</span>
                            <span *ngIf="!llaveTP.auditable">No</span>
                        </td>

                        <td class="col" (click)="verLlave(llaveTP, false, $event)">
                            <span>{{llaveTP.llave.edad?.desde.valor + ' ' + llaveTP.llave.edad?.desde.unidad}} a los {{llaveTP.llave.edad?.hasta.valor + ' ' + llaveTP.llave.edad?.hasta.unidad}}</span>
                            <span *ngIf="!llaveTP.llave.edad" class="text-danger">sin rango definido</span>
                        </td>

                        <td class="col" (click)="verLlave(llaveTP, false, $event)">
                            <span *ngIf="llaveTP.llave.sexo">{{llaveTP.llave.sexo}}</span>
                            <span *ngIf="!llaveTP.llave.sexo">no aplica</span>
                        </td>
                        
                        <td class="col-1" (click)="verLlave(llaveTP, false, $event)">
                            <span *ngIf="llaveTP.activa">Si</span>
                            <span *ngIf="!llaveTP.activa">No</span>
                        </td>

                        </tr>
                    </template>
                    </tbody>
                </table>
                </div>

            </plex-box>

        </div>
        <div class="col-3">
        <plex-box>
            <editar-llaves-tipoPrestacion *ngIf="showVistaLlavesTP" [llaveTPSeleccionada]="llaveTPSeleccionada" (saveLlaveTP)="saveLlaveTP($event)" (cancelaEditarLlaveTP)="cancelaEditarLlaveTP($event)"></editar-llaves-tipoPrestacion>
        </plex-box>
        </div>
    </div>
</section>
<footer *ngIf="!showcreate && !showupdate">
  <div class="row">
    <div class="col">
      <plex-button type="primary" label="Nueva Configuraci贸n" title="Nueva Configuraci贸n" (click)="limpiarModeloLlavesTP()">
      </plex-button>
    </div>
  </div>
</footer>
<!--<edit-espacio-fisico *ngIf="showupdate" [llaveTPSeleccionada]="llaveTPSeleccionada" (data)='onReturn($event)'></edit-espacio-fisico>-->
