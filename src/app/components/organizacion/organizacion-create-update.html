<form [formGroup]="createForm">
    <plex-box type="success" title="Alta de Organizaciones">
        <div class="col-sm-12">
            <div class="row" formGroupName="codigo">
                <div class="col-sm-4">
                    <label> Cod. SISA: </label>
                    <input type="text" class="form-control" formControlName="sisa" placeholder="Ingrese código SISA">
                    <label class="control-label text-danger" *ngIf="createForm.controls.codigo.controls.sisa.errors">Este campo es obligatorio!</label>
                </div>
                <div class="col-sm-4">
                    <label> Cod. CUIE: </label>
                    <input type="text" class="form-control" formControlName="cuie" placeholder="Ingrese código CUIE">
                </div>
                <div class="col-sm-4">
                    <label> Cod. Remediar: </label>
                    <input type="text" class="form-control" formControlName="remediar" placeholder="Ingrese código Remediar">
                </div>
            </div>
            <div>&nbsp;</div>
            <div class="row">
                <div class="col-sm-4">
                    <label>Nombre:</label>
                    <input type="text" class="form-control" formControlName="nombre" placeholder="Ingrese nombre...">
                    <label class="control-label text-danger" *ngIf="createForm.controls.nombre.errors">Este campo es obligatorio!</label>
                </div>
                <div class="col-sm-4">
                    <plex-select formControlName="tipoEstablecimiento" (get-data)="loadTipos($event)" label="Tipo de Establecimiento:">
                    </plex-select>
                </div>
                <div class="col-sm-4">
                    <label>Complejidad:</label>
                    <input type="number" class="form-control" formControlName="nivelComplejidad" placeholder="Ingrese nivel de complejidad...">
                </div>
            </div>
            <div>&nbsp;</div>
            <plex-box type="warning" title="Dirección" formGroupName="direccion">
                <div class="row">
                    <div class="col-sm-6">
                        <label> Detalle de Domicilio: </label>
                        <input type="text" class="form-control" formControlName="valor" placeholder="Ej: Belgrano 1547 - Piso 2 - Departamento 3....">
                    </div>
                    <div class="col-sm-4">
                        <label> Codigo Postal: </label>
                        <input type="text" class="form-control" formControlName="codigoPostal" placeholder="Ingrese CP...">
                    </div>
                </div>
                <div formGroupName="ubicacion">
                    <div class="row">
                        <div class="col-sm-4">
                            <plex-select formControlName="pais" (get-data)="loadPaises($event)" label="País:">
                            </plex-select>
                        </div>
                        <div class="col-sm-4">
                            <plex-select formControlName="provincia" (get-data)="loadProvincias($event, createForm.controls.direccion.controls.ubicacion.controls.pais)"
                                label="Provincia:">
                            </plex-select>
                        </div>
                        <div class="col-sm-4">
                            <plex-select formControlName="localidad" (get-data)="loadLocalidades($event, createForm.controls.direccion.controls.ubicacion.controls.provincia)"
                                label="Localidad:">
                            </plex-select>
                        </div>
                    </div>
                </div>
            </plex-box>
            <plex-box type="warning" title="Telecom" formArrayName="telecom">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="list-group" *ngFor="let co of createForm.controls.telecom.controls; let i=index">
                            <div class="row list-group-item" [formGroupName]="i">
                                <div align="right" (click)="removeTelecom(i)">
                                    <i class="glyphicon glyphicon-remove-circle"></i>
                                </div>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <label> Tipo: </label>
                                        <select class="form-control" id="tipo" formControlName="tipo">
                                                        <option *ngFor="let name of tiposcom" [value]="name">{{name}}</option>
                                                    </select>
                                    </div>
                                    <div class="col-sm-3">
                                        <label> Valor: </label>
                                        <input type="text" class="form-control" formControlName="valor" placeholder="Ingresar valor...">
                                    </div>
                                    <div class="col-sm-3">
                                        <label> Orden: </label>
                                        <input type="number" class="form-control" formControlName="ranking" placeholder="Ingrese ranking">
                                    </div>
                                    <div class="col-sm-3">
                                        <label>&nbsp; </label>
                                        <div class="checkbox">
                                            <label><input type="checkbox" formControlName="activo" >Activo</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <div class="row">&nbsp;</div>
                            <div class="row">
                                <div class="margin-20">
                                    <button class="btn btn-default" (click)="addTelecom({})"><i class="glyphicon glyphicon-plus"></i> Agregar Telecom</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </plex-box>
            <div class="row">&nbsp;</div>

            <div class="row">&nbsp;</div>
            <div class="panel panel-default" formArrayName="contacto">
                <div class="panel-heading"> Contactos </div>
                <div class="panel-body">
                    <div class="list-group" *ngFor="let co of createForm.controls.contacto.controls; let i=index">
                        <div class="row list-group-item" [formGroupName]="i">
                            <div align="right" (click)="removeContacto(i)">
                                <i class="glyphicon glyphicon-remove-circle"></i>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label> Propósito: </label>
                                    <input type="text" class="form-control" formControlName="proposito">
                                </div>
                                <div class="col-sm-4">
                                    <label> Nombre: </label>
                                    <input type="text" class="form-control" formControlName="nombre">
                                </div>
                                <div class="col-sm-4">
                                    <label> Apellido: </label>
                                    <input type="text" class="form-control" formControlName="apellido">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-4">
                                    <label> Tipo: </label>
                                    <select class="form-control" id="tipo" formControlName="tipo">
                                        <option *ngFor="let name of tiposcom" [value]="name">{{name}}</option>
                                    </select>
                                </div>
                                <div class="col-sm-4">
                                    <label> Valor: </label>
                                    <input type="text" class="form-control" formControlName="valor">
                                </div>
                                <div class="form-group col-sm-4">
                                    <label>&nbsp; </label>
                                    <div class="checkbox">
                                        <label><input type="checkbox" formControlName="activo" checked="checked">Activo</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-sm-6">
                            <button class="btn btn-default" (click)="addContacto({})"><i class="glyphicon glyphicon-plus"></i> Agregar Contacto</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">&nbsp;</div>
            <div class="row">
                <div class="col-sm-4">
                    <plex-button title="Guardar" label="Guardar" type="primary" (click)="onSave(createForm.value, createForm.valid)">
                    </plex-button>
                    <plex-button title="Cancelar" label="Cancelar" type="primary" (click)="onCancel()">
                    </plex-button>
                </div>
            </div>
        </div>
    </plex-box>
</form>