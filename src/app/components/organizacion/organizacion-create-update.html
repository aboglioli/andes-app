<form [formGroup]="createForm">
    <plex-box type="success" title="Editar Organización">
        <div class="col-sm-12">
            <div class="row" formGroupName="codigo">
                <div class="col-sm-4">
                    <label> Cod. SISA: </label>
                    <input type="text" class="form-control" formControlName="sisa" placeholder="Ingrese código SISA">
                    <label class="control-label text-danger" *ngIf="createForm.controls.codigo.controls.sisa.errors">Este campo es obligatorio!</label>
                </div>
                <div class="col-sm-4">
                    <plex-text label="Cod. CUIE:" formControlName="cuie" placeholder="Ingrese código CUIE"></plex-text>
                </div>
                <div class="col-sm-4">
                    <plex-text label="Cod. Remediar:" formControlName="remediar" placeholder="Ingrese código Remediar"></plex-text>
                </div>
            </div>
            <div>&nbsp;</div>
            <div class="row">
                <div class="col-sm-4">
                    <label>Nombre:</label>
                    <input type="text" class="form-control" formControlName="nombre" placeholder="Ingrese nombre...">
                    <label class="control-label text-danger" *ngIf="createForm.controls.nombre.errors">Este campo es obligatorio!</label>
                </div>
                <div class="col-sm-4">
                    <plex-select formControlName="tipoEstablecimiento" (get-data)="loadTipos($event)" label="Tipo de Establecimiento:">
                    </plex-select>
                </div>
                <div class="col-sm-4">
                    <plex-int label="Complejidad" formControlName="nivelComplejidad" placeholder="Ingrese nivel de complejidad..."></plex-int>
                </div>
            </div>
            <div>&nbsp;</div>
            <plex-box type="warning" title="Dirección" formGroupName="direccion">
                <div class="row">
                    <div class="col-sm-6">
                        <plex-text label="Detalle de Domicilio:" formControlName="valor" placeholder="Ej: Belgrano 1547 - Piso 2 - Departamento 3...."></plex-text>
                    </div>
                    <div class="col-sm-4">
                        <plex-text label="Código Postal:" formControlName="codigoPostal" placeholder="Ingrese CP..."></plex-text>
                    </div>
                </div>
                <div formGroupName="ubicacion">
                    <div class="row">
                        <div class="col-sm-4">
                            <plex-select formControlName="pais" (get-data)="loadPaises($event)" label="País:">
                            </plex-select>
                        </div>
                        <div class="col-sm-4">
                            <plex-select formControlName="provincia" (get-data)="loadProvincias($event, createForm.controls.direccion.controls.ubicacion.controls.pais)"
                                label="Provincia:">
                            </plex-select>
                        </div>
                        <div class="col-sm-4">
                            <plex-select formControlName="localidad" (get-data)="loadLocalidades($event, createForm.controls.direccion.controls.ubicacion.controls.provincia)"
                                label="Localidad:">
                            </plex-select>
                        </div>
                    </div>
                </div>
            </plex-box>
            <plex-box type="warning" title="Teléfono" formArrayName="telecom">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="list-group" *ngFor="let co of createForm.controls.telecom.controls; let i=index">
                            <div class="row list-group-item" [formGroupName]="i">
                                <div align="right" (click)="removeTelecom(i)">
                                    <i class="glyphicon glyphicon-remove-circle"></i>
                                </div>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <label> Tipo: </label>
                                        <select class="form-control" id="tipo" formControlName="tipo">
                                            <option *ngFor="let name of tiposcom" [value]="name">{{name}}</option>
                                        </select>
                                    </div>
                                    <div class="col-sm-3">
                                        <plex-text label="Valor:" formControlName="valor" placeholder="Ingresar valor..."></plex-text>
                                    </div>
                                    <div class="col-sm-3">
                                        <plex-text label="Orden:" formControlName="ranking" placeholder="Ingresar ranking"></plex-text>
                                    </div>
                                    <div class="col-sm-3">
                                        <br>
                                        <plex-bool formControlName="activo" label="activo"></plex-bool>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <div class="row">
                                <div class="margin-20">
                                    <button class="btn btn-default" (click)="addTelecom({})"><i class="glyphicon glyphicon-plus"></i> Agregar Telecom</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </plex-box>
            <plex-box type="warning" title="Contactos" formArrayName="contacto">
                <div class="list-group" *ngFor="let co of createForm.controls.contacto.controls; let i=index">
                    <div class="row list-group-item" [formGroupName]="i">
                        <div align="right" (click)="removeContacto(i)">
                            <i class="glyphicon glyphicon-remove-circle"></i>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <plex-text label="Propósito:" formControlName="proposito"></plex-text>
                            </div>
                            <div class="col-sm-4">
                                <plex-text label="Nombre:" formControlName="nombre"></plex-text>
                            </div>
                            <div class="col-sm-4">
                                <plex-text label="Apellido:" formControlName="apellido"></plex-text>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <label> Tipo: </label>
                                <select class="form-control" id="tipo" formControlName="tipo">
                                    <option *ngFor="let name of tiposcom" [value]="name">{{name}}</option>
                                </select>
                            </div>
                            <div class="col-sm-4">
                                <plex-text label="Valor:" formControlName="Valor"></plex-text>
                            </div>
                            <div class="form-group col-sm-4">
                                <br>
                                <plex-bool formControlName="activo" label="activo"></plex-bool>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-sm-6">
                        <button class="btn btn-default" (click)="addContacto({})"><i class="glyphicon glyphicon-plus"></i> Agregar Contacto</button>
                    </div>
                </div>
            </plex-box>
            <plex-box type="warning" title="Edificios" formArrayName="edificio">
                <div class="list-group" *ngFor="let co of createForm.controls.edificio.controls; let i=index">
                    <div class="row list-group-item" [formGroupName]="i">
                        <div align="right" (click)="removeEdificio(i)">
                            <i class="glyphicon glyphicon-remove-circle"></i>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <plex-text label="Descripción:" formControlName="descripcion"></plex-text>
                            </div>
                        </div>
                        <div class="row">&nbsp;</div>
                        <div class="row">
                            <div class="col-sm-10">
                                <plex-box type="default" title="Dirección" formGroupName="direccion">
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <plex-text label="Detalle de Domicilio:" formControlName="valor" placeholder="Ej: Belgrano 1547 - Piso 2 - Departamento 3...."></plex-text>
                                        </div>
                                        <div class="col-sm-4">
                                            <plex-text label="Codigo Postal:" formControlName="codigoPostal" placeholder="Ingrese CP..."></plex-text>
                                        </div>
                                    </div>
                                    <div formGroupName="ubicacion">
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <plex-select formControlName="pais" (get-data)="loadPaises($event)" label="País:">
                                                </plex-select>
                                            </div>
                                            <div class="col-sm-3">
                                                <plex-select formControlName="provincia" (get-data)="loadProvincias($event, createForm.controls.direccion.controls.ubicacion.controls.pais)"
                                                    label="Provincia:">
                                                </plex-select>
                                            </div>
                                            <div class="col-sm-3">
                                                <plex-select formControlName="localidad" (get-data)="loadLocalidades($event, createForm.controls.direccion.controls.ubicacion.controls.provincia)"
                                                    label="Localidad:">
                                                </plex-select>
                                            </div>
                                        </div>
                                    </div>
                                </plex-box>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-10">
                                <plex-box type="default" title="Teléfono" formGroupName="telefono">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <label> Tipo: </label>
                                            <select class="form-control" id="tipo" formControlName="tipo">
                                                <option *ngFor="let name of tiposcom" [value]="name">{{name}}</option>
                                            </select>
                                        </div>
                                        <div class="col-sm-3">
                                            <plex-text label="Valor:" formControlName="valor" placeholder="Ingresar valor..."></plex-text>
                                        </div>
                                        <div class="col-sm-3">
                                            <plex-text label="Orden:" formControlName="ranking" placeholder="Ingresar ranking"></plex-text>
                                        </div>
                                        <div class="col-sm-3">
                                            <br>
                                            <plex-bool formControlName="activo" label="activo"></plex-bool>
                                        </div>
                                    </div>
                                </plex-box>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-sm-6">
                        <button class="btn btn-default" (click)="addEdificio({},'nuevo')"><i class="glyphicon glyphicon-plus"></i> Agregar Edificio</button>
                    </div>
                </div>
            </plex-box>
            <div class="row">
                <div class="col-sm-4">
                    <plex-button title="Guardar" label="Guardar" type="primary" (click)="onSave(createForm.value, createForm.valid)">
                    </plex-button>
                    <plex-button title="Cancelar" label="Cancelar" type="primary" (click)="onCancel()">
                    </plex-button>
                </div>
            </div>
        </div>
    </plex-box>
</form>